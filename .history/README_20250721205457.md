# Tutor Attendance App ðŸ“±

A React Native app built with Expo for tutors to mark attendance based on their location proximity to assigned centers.

## Features

- **Secure Login**: Phone number and password authentication
- **One-week Login Persistence**: Stay logged in for 7 days
- **Location-based Attendance**: Mark attendance only when within 100m of assigned center
- **Interactive Map**: View center location, radius, and your current position
- **Real-time Updates**: Live date, time, and center information display

## Setup Instructions

### 1. Install Dependencies

```bash
npm install
```

### 2. Configure API URL

Update the API base URL in `constants/config.ts`:

```typescript
export const API_CONFIG = {
  BASE_URL: 'https://your-api-domain.com', // Replace with your actual API URL
  // ... rest of config
};
```

### 3. Backend API Requirements

Your backend should provide these endpoints:

#### Login Endpoint
```
POST /auth/tutor/login
Body: { phone: string, password: string }
Response: {
  _id: string,
  name: string,
  email: string,
  phone: string,
  role: string,
  token: string,
  assignedCenter: {
    _id: string,
    name: string,
    location: string,
    coordinates: [longitude, latitude]
  }
}
```

#### Attendance Endpoint
```
POST /tutors/attendance
Headers: { Authorization: "Bearer <token>" }
Body: { currentLocation: [latitude, longitude] }
Response: { message: string, attendance: object }
```

### 4. Start the App

```bash
npx expo start
```

## App Flow

1. **Launch**: App checks for valid login (within 7 days)
2. **Login Screen**: Enter phone number and password
3. **Attendance Screen**: 
   - View current date, time, and center name
   - See circular "Mark Attendance" button (red â†’ green when marked)
   - Interactive map showing center location with 100m radius
   - Your current location marker

## Key Components

- **LoginScreen**: Handles tutor authentication
- **AttendanceScreen**: Main interface for marking attendance
- **MainApp**: Manages authentication state and navigation

## Permissions

The app requires location permissions to function properly:
- **iOS**: Location access when app is in use
- **Android**: Fine and coarse location access

## Technical Details

- **Framework**: React Native with Expo
- **Maps**: react-native-maps
- **Storage**: AsyncStorage for login persistence
- **Location**: expo-location for GPS functionality
- **Distance Calculation**: Haversine formula for accurate distance measurement

## Development

The app uses TypeScript and follows React Native best practices. Key utilities:

- `utils/api.ts`: API communication functions
- `utils/location.ts`: Distance calculation and location utilities
- `utils/storage.ts`: Local storage management
- `constants/config.ts`: App configuration

## Testing

Test the app with:
1. Valid tutor credentials
2. Location permissions enabled
3. GPS/location services active
4. Network connectivity for API calls

## Deployment

Build for production using Expo's build service:

```bash
expo build:android
expo build:ios
```

## Support

For issues or questions, check:
- Location permissions are granted
- API endpoints are accessible
- Network connectivity is stable
- GPS/location services are enabled
